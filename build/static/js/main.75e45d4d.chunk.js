(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,n,t){},26:function(e,n,t){},46:function(e,n,t){},48:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),a=t(20),i=t.n(a),l=(t(25),t(26),t(4)),o=t(3),d=t.n(o),s=t(7),u=t(5),f=t(6),b=t(10),j=t.n(b),h=function(){var e=Object(f.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("".concat("http://localhost:8000/api","/create-folder"),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat("http://localhost:8000/api","/folders"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(f.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("".concat("http://localhost:8000/api","/folder/").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=new Set,x=new Set,g=function(e){return Object(s.a)(Array.from(e))};function m(e,n){var t=[];return function e(c){var r,a=n.find((function(e){return e.id===c}));(a&&t.push(a.id),a&&0!==a.children.length)&&(null===a||void 0===a||null===(r=a.children)||void 0===r||r.forEach((function(n){e(n)})));return!0}(e),t}function y(e,n){O.add(e),x.add(e),console.log("Active:",g(x));var t=n.find((function(n){return n.id===e}));if(t){var c=t.children;c&&(null===c||void 0===c?void 0:c.length)>0&&"string"!==typeof c&&(null===c||void 0===c||c.forEach((function(e){O.add(e),x.delete(e)})))}return{globalArray:g(O),activeArray:g(x)}}function k(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return x.delete(e),m(e,n).forEach((function(e){x.delete(e),O.delete(e)})),t?O.delete(e):O.add(e),{globalArray:g(O),activeArray:g(x)}}var F=function(){var e=Object(c.useState)(null),n=Object(l.a)(e,2),t=n[0],a=n[1];console.log("useLoad data:",t);var i=Object(c.useState)(!0),o=Object(l.a)(i,2),b=o[0],j=o[1],O=Object(c.useState)(!0),x=Object(l.a)(O,2),g=x[0],m=x[1],F=null===t||void 0===t?void 0:t.findIndex((function(e){return"60a7bc1682f47e3a3c73bd8c"===e.id})),A=Object(c.useState)({activeIndex:[],globalIndex:["60a7bc1682f47e3a3c73bd8c"]}),w=Object(l.a)(A,2),I=w[0],S=w[1],C=I.activeIndex,M=I.globalIndex,D=function(e){return C.includes(e)},B=function(){var e=Object(f.a)(d.a.mark((function e(n,c){var r,a,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,h({name:c,parent:n});case 4:r=e.sent,j(!1),t&&(a=y(n,t),i=a.activeArray,"string"===typeof(l=r.data.id)&&(console.log(l),S((function(e){return Object(u.a)(Object(u.a)({},e),{},{activeIndex:Object(s.a)(i),globalIndex:[].concat(Object(s.a)(M),[l])})})),m(!g))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n,t){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(d.a.mark((function e(n){var c,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,p(n);case 4:j(!1),t&&(c=k(n,t,!0),r=c.globalArray,a=c.activeArray,S((function(e){return Object(u.a)(Object(u.a)({},e),{},{globalIndex:r.filter((function(e){return e!==n})),activeIndex:a.filter((function(e){return e!==n}))})})),m(!g)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();return r.a.useEffect((function(){j(!0),v().then((function(e){console.log("res data:",e.data),a(Object(s.a)(e.data.data)),j(!1)})).catch((function(e){j(!1),console.log("err:",e.message)}))}),[g]),{findObjByID:function(e){return null===t||void 0===t?void 0:t.find((function(n){return n.id===e}))},loading:b,data:t,handleAddFolder:B,handleDeleteFolder:N,isActive:D,isGlobal:function(e){return M.includes(e)},isRoot:function(e){return"60a7bc1682f47e3a3c73bd8c"===e},handleClick:function(e){console.log("clicked",e);var n=D(e);if(t)if(n){var c=k(e,t),r=c.globalArray,a=c.activeArray;S((function(e){return Object(u.a)(Object(u.a)({},e),{},{globalIndex:r,activeIndex:a})}))}else{var i=y(e,t),l=i.globalArray,o=i.activeArray;S((function(e){return Object(u.a)(Object(u.a)({},e),{},{globalIndex:l,activeIndex:o})}))}},rootIndex:F,showNode:function(e){return M.includes(e)}}},A=(t(46),t(0)),w=function(e){var n=e.id,t=e.handleModalFolder,c=e.handleModalDelete,a=e.closeModal,i=e.filename,o=e.deleteModal,d=r.a.useState(!0),s=Object(l.a)(d,2),u=s[0],f=s[1],b=function(){a()};return u?Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"modal-bg ".concat(u?"actv":"modal-close"," "),children:Object(A.jsx)("div",{className:"modal",children:o?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("span",{style:{display:"inline-block",marginBottom:2,fontSize:40},children:[" ","Delete ","".concat(i)," ?"]}),Object(A.jsx)("button",{onClick:function(){return b()},children:"cancel"}),Object(A.jsx)("button",{id:"delete",onClick:function(e){c(n)},children:"delete"})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("span",{style:{display:"block",marginBottom:2,fontSize:40},children:[" ","Add folder in ","".concat(i)," ?"]}),Object(A.jsxs)("form",{onSubmit:function(e){console.log("handleSubmit:"),e.preventDefault();var c=e.target.name.value.trim();f(!1),""!==c.trim()?t(n,c):a()},style:{display:"inline-block"},children:[Object(A.jsx)("input",{type:"text",id:"fname",name:"name",placeholder:"folder name",style:{display:"inline-block",marginBottom:2}}),Object(A.jsx)("br",{}),Object(A.jsx)("input",{type:"submit",value:"Submit"}),Object(A.jsx)("button",{id:"cancel",onClick:b,children:"cancel"})]})]})})})}):null},I=(t(48),function(){var e=r.a.useState(null),n=Object(l.a)(e,2),t=n[0],c=n[1],a=F(),i=a.data,o=a.loading,d=a.handleAddFolder,s=a.findObjByID,u=a.handleDeleteFolder,f=a.isActive,b=a.isGlobal,j=a.handleClick,h=a.isRoot,v=function(e){return Object(A.jsxs)(A.Fragment,{children:[!h(e.id)&&Object(A.jsx)("button",{onClick:function(){console.log("delete folder clicked");var n=s(e.id);n&&c(Object(A.jsx)(w,{id:e.id,filename:n.name,handleModalFolder:O,closeModal:p,deleteModal:!0,handleModalDelete:x}))},disabled:h(e.id),style:{margin:10,backgroundColor:"#FF2D1D",borderRadius:5,padding:2},children:Object(A.jsx)("span",{style:{cursor:"pointer",color:"#222",content:"\\002B",fontSize:20},children:"\u2297"})}),Object(A.jsx)("button",{onClick:function(){console.log("ad folder clicked");var n=s(e.id);n&&c(Object(A.jsx)(w,{id:e.id,filename:n.name,handleModalFolder:O,closeModal:p,deleteModal:!1,handleModalDelete:x}))},style:{margin:10,backgroundColor:"#9FAF0A",borderRadius:20,padding:5,content:"\\002B"},children:Object(A.jsx)("span",{style:{cursor:"pointer",color:"#222",content:"\\002B",fontSize:20},children:"+ New"})})]})},p=function(){c(null)},O=function(e,n){d(e,n),p()},x=function(e){u(e),p()};return o?Object(A.jsx)("h1",{children:"Loading...."}):(console.log(i),i?Object(A.jsxs)("div",{className:"base",children:[Object(A.jsx)("ul",{className:"folders",children:function e(n){if("string"!==typeof n.children&&n.children.length>0){var t=n.children.map((function(n){var t=s(n);return"undefined"!==typeof t?e(t):null}));return Object(A.jsx)("li",{children:b(n.id)&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"folder ".concat(f(n.id)?"active":""),children:[Object(A.jsx)("span",{onClick:function(){console.log("handleClick clicked:"),j(n.id)},style:{cursor:"pointer"},children:b(n.id)?n.name:""}),v(n)]},n.id),Object(A.jsx)("ul",{className:"folder-target ".concat(f(n.id)?"active":""),children:t})]})},n.id)}return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("li",{className:"folder ".concat(f(n.id)?"active":""),children:[Object(A.jsx)("span",{onClick:function(){console.log("handleClick clicked:"),j(n.id)},style:{cursor:"pointer"},children:n.name}),v(n)]},n.id),f(n.id)&&Object(A.jsx)("ul",{className:"folder-target active ",children:"-no folder"})]})}(i[0])},i[0].id),t]}):null)});var S=function(){return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)("div",{children:Object(A.jsx)("h1",{children:"Folder Structure Viewer Created By @Ridwanur Rahman"})}),Object(A.jsx)(I,{})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,50)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(S,{})}),document.getElementById("root")),C()}},[[49,1,2]]]);
//# sourceMappingURL=main.75e45d4d.chunk.js.map